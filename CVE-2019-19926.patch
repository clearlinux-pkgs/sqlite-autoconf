From 4165b1e1e0001165ace9051a70f938099505eadc Mon Sep 17 00:00:00 2001
From: "D. Richard Hipp" <drh@hwaci.com>
Date: Thu, 19 Dec 2019 22:08:19 +0000
Subject: [PATCH] Continuation of [e2bddcd4c55ba3cb]: Add another spot where it
 is necessary to abort early due to prior errors in sqlite3WindowRewrite().

FossilOrigin-Name: cba2a2a44cdf138a629109bb0ad088ed4ef67fc66bed3e0373554681a39615d2
---
 sqlite3.c | 7 ++++---
 sqlite3.h | 2 +-
 2 files changed, 5 insertions(+), 4 deletions(-)

diff --git a/sqlite3.c b/sqlite3.c
index 857c28e..19a474d 100644
--- a/sqlite3.c
+++ b/sqlite3.c
@@ -1167,7 +1167,7 @@ extern "C" {
 */
 #define SQLITE_VERSION        "3.30.1"
 #define SQLITE_VERSION_NUMBER 3030001
-#define SQLITE_SOURCE_ID      "2019-12-19 20:37:32 1e604bf042e90f843fda90643ea01a4a544f3d399294fad34772e7faf9a0alt1"
+#define SQLITE_SOURCE_ID      "2019-12-19 22:08:19 c4cc4884893abd8e4b1154f2c96c38ad17b17fd7146c91c501d3de6ddff8alt1"
 
 /*
 ** CAPI3REF: Run-Time Library Version Numbers
@@ -128427,6 +128427,7 @@ static int multiSelect(
     }
   #endif
   }
+  if( pParse->nErr ) goto multi_select_end;
   
   /* Compute collating sequences used by 
   ** temporary tables needed to implement the compound select.
@@ -225066,9 +225067,9 @@ SQLITE_API int sqlite3_stmt_init(
 #endif /* !defined(SQLITE_CORE) || defined(SQLITE_ENABLE_STMTVTAB) */
 
 /************** End of stmt.c ************************************************/
-#if __LINE__!=225069
+#if __LINE__!=225070
 #undef SQLITE_SOURCE_ID
-#define SQLITE_SOURCE_ID      "2019-12-19 20:37:32 1e604bf042e90f843fda90643ea01a4a544f3d399294fad34772e7faf9a0alt2"
+#define SQLITE_SOURCE_ID      "2019-12-19 22:08:19 c4cc4884893abd8e4b1154f2c96c38ad17b17fd7146c91c501d3de6ddff8alt2"
 #endif
 /* Return the source-id for this library */
 SQLITE_API const char *sqlite3_sourceid(void){ return SQLITE_SOURCE_ID; }
diff --git a/sqlite3.h b/sqlite3.h
index 7547587..88f23a4 100644
--- a/sqlite3.h
+++ b/sqlite3.h
@@ -125,7 +125,7 @@ extern "C" {
 */
 #define SQLITE_VERSION        "3.30.1"
 #define SQLITE_VERSION_NUMBER 3030001
-#define SQLITE_SOURCE_ID      "2019-12-19 20:37:32 1e604bf042e90f843fda90643ea01a4a544f3d399294fad34772e7faf9a0alt1"
+#define SQLITE_SOURCE_ID      "2019-12-19 22:08:19 c4cc4884893abd8e4b1154f2c96c38ad17b17fd7146c91c501d3de6ddff8alt1"
 
 /*
 ** CAPI3REF: Run-Time Library Version Numbers
-- 
2.24.1

